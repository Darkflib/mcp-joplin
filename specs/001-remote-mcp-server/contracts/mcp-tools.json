{
  "tools": [
    {
      "name": "search_notes",
      "description": "Search for notes in Joplin by title, content, or tags",
      "inputSchema": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Search query to match against note titles and content",
            "minLength": 1,
            "maxLength": 200
          },
          "limit": {
            "type": "integer",
            "description": "Maximum number of results to return",
            "minimum": 1,
            "maximum": 50,
            "default": 10
          },
          "notebook_id": {
            "type": "string",
            "description": "Optional: limit search to specific notebook",
            "pattern": "^[a-f0-9]{32}$"
          }
        },
        "required": ["query"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "results": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "note_id": {"type": "string"},
                "title": {"type": "string"},
                "snippet": {"type": "string"},
                "score": {"type": "number", "minimum": 0, "maximum": 1}
              },
              "required": ["note_id", "title", "snippet", "score"]
            }
          },
          "total_count": {"type": "integer", "minimum": 0}
        },
        "required": ["results", "total_count"]
      }
    },
    {
      "name": "get_note",
      "description": "Retrieve full content and metadata for a specific note",
      "inputSchema": {
        "type": "object",
        "properties": {
          "note_id": {
            "type": "string",
            "description": "Unique identifier of the note to retrieve",
            "pattern": "^[a-f0-9]{32}$"
          },
          "include_body": {
            "type": "boolean",
            "description": "Whether to include full note content",
            "default": true
          }
        },
        "required": ["note_id"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "id": {"type": "string"},
          "title": {"type": "string"},
          "body": {"type": "string"},
          "parent_id": {"type": "string"},
          "created_time": {"type": "integer"},
          "updated_time": {"type": "integer"},
          "tags": {
            "type": "array",
            "items": {"type": "string"}
          }
        },
        "required": ["id", "title", "parent_id", "created_time", "updated_time"]
      }
    },
    {
      "name": "list_notebooks",
      "description": "Get all notebooks with their hierarchical structure",
      "inputSchema": {
        "type": "object",
        "properties": {
          "parent_id": {
            "type": "string",
            "description": "Optional: list notebooks under specific parent",
            "pattern": "^[a-f0-9]{32}$"
          },
          "recursive": {
            "type": "boolean",
            "description": "Include nested notebooks recursively",
            "default": true
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "notebooks": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {"type": "string"},
                "title": {"type": "string"},
                "parent_id": {"type": "string"},
                "created_time": {"type": "integer"},
                "updated_time": {"type": "integer"},
                "children": {
                  "type": "array",
                  "description": "Nested notebooks if recursive=true"
                }
              },
              "required": ["id", "title", "created_time", "updated_time"]
            }
          }
        },
        "required": ["notebooks"]
      }
    },
    {
      "name": "get_notes_in_notebook",
      "description": "List all notes within a specific notebook",
      "inputSchema": {
        "type": "object",
        "properties": {
          "notebook_id": {
            "type": "string",
            "description": "ID of the notebook to query",
            "pattern": "^[a-f0-9]{32}$"
          },
          "limit": {
            "type": "integer",
            "description": "Maximum number of notes to return",
            "minimum": 1,
            "maximum": 100,
            "default": 20
          },
          "offset": {
            "type": "integer",
            "description": "Number of notes to skip for pagination",
            "minimum": 0,
            "default": 0
          }
        },
        "required": ["notebook_id"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "notes": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {"type": "string"},
                "title": {"type": "string"},
                "created_time": {"type": "integer"},
                "updated_time": {"type": "integer"}
              },
              "required": ["id", "title", "created_time", "updated_time"]
            }
          },
          "total_count": {"type": "integer", "minimum": 0},
          "has_more": {"type": "boolean"}
        },
        "required": ["notes", "total_count", "has_more"]
      }
    }
  ]
}
